<script>
  const contents = [
    "Chúc bạn may mắn lần sau",
    "50K tiền",
    "20K tiền",
    "10K tiền",
    "Quà tặng Tuần lộc Jollibee",
    "Hát 1 bài bất kỳ",
    "Làm người yêu trong 5 phút",
    "Để ảnh avatar của người khác trong 1 ngày"
  ];

  const bagsContainer = document.getElementById("bagsContainer");
  let openedCount = 0; // Số túi đã mở
  const maxOpen = 2; // Giới hạn 2 túi

  // Tạo túi
  contents.forEach(() => {
    const bag = document.createElement("div");
    bag.className = "bag";

    const inner = document.createElement("div");
    inner.className = "bag-inner";

    const front = document.createElement("div");
    front.className = "bag-front";
    front.textContent = "Túi Mù";

    const back = document.createElement("div");
    back.className = "bag-back";

    inner.appendChild(front);
    inner.appendChild(back);
    bag.appendChild(inner);

    bag.addEventListener("click", () => {
      if (bag.classList.contains("flipped")) return;

      if (openedCount >= maxOpen) {
        alert("Bạn chỉ được mở tối đa 2 túi!");
        return;
      }

      const randomIndex = Math.floor(Math.random() * contents.length);
      const item = contents.splice(randomIndex, 1)[0];
      back.textContent = item;

      bag.classList.add("flipped");
      openedCount++;
    });

    bagsContainer.appendChild(bag);
  });
</script>
